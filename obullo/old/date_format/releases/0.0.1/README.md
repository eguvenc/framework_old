## Date_Format Class

------

The Date Format Class contains functions that help you work with dates.

### Initializing the Class

------

```php
new Date_Format();
$this->date_format->method();
```

The following functions are available:

#### $this->date_format->getNow()

Returns the current time as a Unix timestamp, referenced either to your server's local time or GMT, based on the "time reference" setting in your config file. If you do not intend to set your master time reference to GMT (which you'll typically do if you run a site that lets each user set their own timezone settings) there is no advantage of using this function over PHP's time() function.

#### $this->date_format->getDate()

This function is identical to PHPs [date](http://php.net/manual/en/function.date.php) function, except that it lets you use MySQL style date codes, where each code letter is preceded with a percent sign: %Y %m %d etc.

The benefit of doing dates this way is that you don't have to worry about escaping any characters that are not date codes, as you would normally have to do with the date() function. Example:

```php
$datestring = "Year: %Y Month: %m Day: %d - %h:%i %a";
$time = time();

echo $this->date_format->mDate($datestring, $time);

echo $this->date_format->mDate("%F %d,%Y", strtotime(date())); // January 20,2014
```

If a timestamp is not included in the second parameter the current time will be used.

#### $this->date_format->getStandardDate()

Lets you generate a date string in one of several standardized formats. Example:

```php
$format = 'DATE_RFC822';
$time   = time();

echo $this->date_format->getStandardDate($format, $time);
```

The first parameter must contain the format, the second parameter must contain the date as a Unix timestamp.

Supported formats:

<table>
<thead>
<tr><th>Constant</th><th>Description</th><th>Example</th></tr>
</thead>
<tbody>
<tr><td>DATE_ATOM</td><td>Atom</td><td>2005-08-15T16:13:03+0000</td></tr>
<tr><td>DATE_COOKIE</td><td>HTTP Cookies</td><td>Sun, 14 Aug 2005 16:13:03 UTC</td></tr>
<tr><td>DATE_ISO8601</td><td>ISO-8601</td><td>2005-08-14T16:13:03+0000</td></tr>
<tr><td>DATE_RFC822</td><td>RFC 822</td><td>Sun, 14 Aug 2005 16:13:03 UTC</td></tr>
<tr><td>DATE_RFC850</td><td>RFC 850</td><td>Sunday, 14-Aug-05 16:13:03 UTC</td></tr>
<tr><td>DATE_RFC1036</td><td>RFC 1036</td><td>Sunday, 14-Aug-05 16:13:03 UTC</td></tr>
<tr><td>DATE_RFC1123</td><td>RFC 1123</td><td>Sun, 14 Aug 2005 16:13:03 UTC</td></tr>
<tr><td>DATE_RFC2822</td><td>RFC 2822</td><td>Sun, 14 Aug 2005 16:13:03 +0000</td></tr>
<tr><td>DATE_RSS</td><td>RSS</td><td>Sun, 14 Aug 2005 16:13:03 UTC</td></tr>
<tr><td>DATE_W3C</td><td>World Wide Web Consortium</td><td>2005-08-14T16:13:03+0000</td></tr>
</tbody>
</table>

#### $this->date_format->localToGmt()

Takes a Unix timestamp as input and returns it as GMT. Example:

```php
$now = time();
$gmt = $this->date_format->localToGmt($now);
```
#### $this->date_format->gmtToLocal()

Takes a Unix timestamp (referenced to GMT) as input, and converts it to a localized timestamp based on the timezone and Daylight Saving time submitted. Example:

```php
$timestamp = '1140153693';
$timezone = 'UM8';
$daylight_saving = true;

echo $this->date_format->gmtToLocal($timestamp, $timezone, $daylight_saving);
```

**Note:** For a list of timezones see the reference at the bottom of this page.

#### $this->date_format->mysqlToUnix()

Takes a MySQL Timestamp as input and returns it as Unix. Example:

```php
$mysql = '20061124092345';
$unix  = $this->date_format->mysqlToUnix($mysql);
```

#### $this->date_format->unixToHuman()

Takes a Unix timestamp as input and returns it in a human readable format with this prototype:

```php
YYYY-MM-DD HH:MM:SS AM/PM
```

This can be useful if you need to display a date in a form field for submission.

The time can be formatted with or without seconds, and it can be set to European or US format. If only the timestamp is submitted it will return the time without seconds formatted for the U.S. Examples:

```php
$now = time();

echo $this->date_format->unixToHuman($now); // U.S. time, no seconds 

echo $this->date_format->unixToHuman($now, true, 'us'); // U.S. time with seconds

echo $this->date_format->unixToHuman($now, true, 'eu'); // Euro time with seconds
```

#### $this->date_format->humanToUnix()

The opposite of the above function. Takes a "human" time as input and returns it as Unix. This function is useful if you accept "human" formatted dates submitted via forms. Returns false (boolean) if the date string passed to it is not formatted as indicated above. Example:

```php
$now = time();

$human = $this->date_format->unixToHuman($now);
$unix  = $this->date_format->humanToUnix($human);
```

**Note:** The text generated by this function is found in the following language file: <kbd>app/locale/obullo.php</kbd>

#### $this->date_format->getDaysInMonth()

Returns the number of days in a given month/year. Takes leap years into account. Example:

```php
echo $this->date_format->daysInMonth(6, 2005);
```

If the second parameter is empty, the current year will be used.